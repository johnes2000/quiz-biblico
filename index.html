<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Quiz B√≠blico - Aventureiros da F√©</title>
<style>
body {
  margin: 0;
  font-family: 'Poppins', sans-serif;
  /* Fundo cobrindo toda a tela com leve escurecimento */
  background: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url('fundo.jpg') no-repeat center center fixed;
  background-size: cover;
  color: #fff;
  text-align: center;
  overflow-x: hidden;
  position: relative;
}

/* Imagens laterais fixas */
.side-image {
  position: fixed;
  top: 50%;
  transform: translateY(-50%);
  max-height: 80vh;
  opacity: 0.8;
  pointer-events: none;
  user-select: none;
}
.side-left { left: 0; margin-left: 10px; max-width: 180px; }
.side-right { right: 0; margin-right: 10px; max-width: 180px; }

.overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.15); z-index: -1; }

.container {
  backdrop-filter: blur(12px);
  background: rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 0 20px rgba(0,0,0,0.5);
  padding: 25px;
  max-width: 600px;
  margin: 60px auto;
  opacity: 0;
  transform: translateY(20px);
  transition: opacity 0.6s ease, transform 0.6s ease;
  position: relative;
  z-index: 10;
}
.container.show { opacity: 1; transform: translateY(0); }

h1 { font-size: 2em; text-shadow: 2px 2px 5px rgba(0,0,0,0.6); }
h2 { color: #fff; margin-bottom: 10px; }

input[type="text"], input[type="date"] {
  padding: 8px;
  border-radius: 10px;
  border: none;
  margin: 5px;
  font-size: 1em;
}

button {
  background: linear-gradient(45deg, #2ecc71, #27ae60);
  border: none;
  color: white;
  padding: 10px 20px;
  border-radius: 25px;
  cursor: pointer;
  transition: 0.3s;
  margin: 5px;
  font-weight: bold;
  box-shadow: 0 4px 8px rgba(0,128,0,0.4);
}
button:hover {
  transform: scale(1.05);
  background: linear-gradient(45deg, #27ae60, #2ecc71);
}

/* Modais */
.modal {
  display: none;
  position: fixed;
  top:0; left:0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,0.8);
  justify-content: center;
  align-items: center;
  opacity: 0;
  transition: opacity 0.6s ease;
  z-index: 20;
}
.modal.show { display: flex; opacity: 1; }

.modal-content {
  background: rgba(255,255,255,0.15);
  backdrop-filter: blur(15px);
  padding: 20px;
  border-radius: 20px;
  width: 80%;
  max-width: 700px;
  color: #fff;
}

.bar { height: 25px; background: linear-gradient(90deg, #00c6ff, #0072ff); border-radius: 10px; margin: 8px 0; width: 0%; transition: width 1.2s ease-in-out; }
.player { margin: 10px 0; text-align: left; }

/* Responsividade */
@media(max-width: 700px){
  .side-left, .side-right { display: none; }
  .container { margin: 30px 20px; }
}
</style>
</head>
<body>

<img src="IMG_6471.JPG" alt="Aventureiros da F√©" class="side-image side-left" />
<img src="9ce3d3ca-ca5f-44ad-8afe-31942d64353c.png" alt="Jesus com crian√ßas" class="side-image side-right" />
<div class="overlay"></div>

<!-- Tela Inicial -->
<div class="container show" id="startScreen">
  <h1>üìñ Quiz B√≠blico ‚Äî Aventureiros da F√© üåü</h1>
  <p>Insira seu nome e a data para come√ßar:</p>
  <input type="text" id="playerName" placeholder="Seu nome" />
  <input type="date" id="playDate" />
  <br /><br />
  <button onclick="startGame()">Come√ßar</button>
  <button onclick="showStats()">üìä Estat√≠sticas</button>
</div>

<!-- Quiz -->
<div class="container" id="quizContainer" style="display:none;">
  <h2 id="levelTitle"></h2>
  <p id="question"></p>
  <div id="answers"></div>
  <p>Pontua√ß√£o: <span id="score">0</span> | Acertos: <span id="correct">0</span> | Erros: <span id="wrong">0</span></p>
</div>

<!-- Modal de Estat√≠sticas -->
<div class="modal" id="statsModal">
  <div class="modal-content">
    <h2>üèÜ Ranking dos Aventureiros da F√©</h2>
    <div id="ranking"></div>
    <button onclick="closeStats()">Fechar</button>
    <button onclick="clearStats()">üóëÔ∏è Limpar Hist√≥rico</button>
  </div>
</div>

<!-- Modal de Fim de Jogo -->
<div class="modal" id="endModal">
  <div class="modal-content">
    <h2>üéâ Fim do Quiz!</h2>
    <p id="endMessage"></p>
    <button onclick="closeEndModal()">Fechar</button>
  </div>
</div>

<script>
const audioCorrect = new Audio('https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg');
const audioWrong = new Audio('https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg');

const questions = [
  {q:'Quem construiu a arca?', a:['Mois√©s','No√©','Abra√£o','Davi'], c:1},
  {q:'Qual o primeiro livro da B√≠blia?', a:['G√™nesis','√äxodo','Lev√≠tico','Salmos'], c:0},
  {q:'Quem foi jogado na cova dos le√µes?', a:['Elias','Jonas','Daniel','Jos√©'], c:2},
  {q:'Onde Jesus nasceu?', a:['Jerusal√©m','Bel√©m','Nazar√©','Egito'], c:1},
  {q:'Quem negou Jesus tr√™s vezes?', a:['Jo√£o','Pedro','Tiago','Judas'], c:1}
];

let currentQuestion = 0;
let score = 0;
let correct = 0;
let wrong = 0;
let playerName = '';
let playDate = '';

function startGame() {
  playerName = document.getElementById('playerName').value.trim();
  playDate = document.getElementById('playDate').value;
  if(!playerName || !playDate){ alert('Por favor, insira seu nome e a data!'); return; }
  document.getElementById('startScreen').classList.remove('show');
  setTimeout(() => {
    document.getElementById('startScreen').style.display = 'none';
    document.getElementById('quizContainer').style.display = 'block';
    setTimeout(() => document.getElementById('quizContainer').classList.add('show'), 50);
    showQuestion();
  }, 600);
}

function showQuestion() {
  if (currentQuestion >= questions.length) { endGame(); return; }
  const q = questions[currentQuestion];
  document.getElementById('levelTitle').innerText = `Pergunta ${currentQuestion + 1}`;
  document.getElementById('question').innerText = q.q;
  const answersDiv = document.getElementById('answers');
  answersDiv.innerHTML = '';
  q.a.forEach((option, i) => {
    const btn = document.createElement('button');
    btn.innerText = option;
    btn.onclick = () => checkAnswer(i);
    btn.setAttribute('aria-label', option);
    answersDiv.appendChild(btn);
  });
}

function checkAnswer(i) {
  const q = questions[currentQuestion];
  if (i === q.c) { score += 10; correct++; audioCorrect.play(); } 
  else { wrong++; audioWrong.play(); }
  document.getElementById('score').innerText = score;
  document.getElementById('correct').innerText = correct;
  document.getElementById('wrong').innerText = wrong;
  currentQuestion++;
  showQuestion();
}

function endGame() {
  saveStats();
  document.getElementById('endMessage').innerText = `${playerName}, sua pontua√ß√£o final √© ${score} pts! üéâ`;
  const modal = document.getElementById('endModal');
  modal.style.display = 'flex';
  setTimeout(() => modal.classList.add('show'), 50);
}

function closeEndModal(){
  const modal = document.getElementById('endModal');
  modal.classList.remove('show');
  setTimeout(() => modal.style.display = 'none', 600);
  resetGame();
  document.getElementById('quizContainer').classList.remove('show');
  setTimeout(() => {
    document.getElementById('quizContainer').style.display = 'none';
    document.getElementById('startScreen').style.display = 'block';
    setTimeout(() => document.getElementById('startScreen').classList.add('show'), 50);
  }, 600);
}

function resetGame() {
  currentQuestion = 0; score = 0; correct = 0; wrong = 0;
  document.getElementById('score').innerText = score;
  document.getElementById('correct').innerText = correct;
  document.getElementById('wrong').innerText = wrong;
}

function saveStats() {
  const stats = JSON.parse(localStorage.getItem('quizStats') || '[]');
  stats.push({ name: playerName, date: playDate, score, correct, wrong, level: questions.length });
  localStorage.setItem('quizStats', JSON.stringify(stats));
}

function showStats() {
  const statsModal = document.getElementById('statsModal');
  const rankingDiv = document.getElementById('ranking');
  rankingDiv.innerHTML = '';
  let stats = JSON.parse(localStorage.getItem('quizStats') || '[]');
  stats.sort((a,b) => b.score - a.score);
  const maxScore = stats.length ? Math.max(...stats.map(s=>s.score)) : 1;
  stats.forEach((s, idx) => {
    const playerDiv = document.createElement('div');
    playerDiv.className = 'player';
    playerDiv.innerHTML = `<strong>${idx+1}. ${s.name}</strong> (${s.date}) - ${s.score} pts - N√≠vel ${s.level}`;
    const bar = document.createElement('div');
    bar.className = 'bar';
    playerDiv.appendChild(bar);
    rankingDiv.appendChild(playerDiv);
    setTimeout(() => { bar.style.width = `${(s.score/maxScore)*100}%`; }, 50);
  });
  statsModal.style.display = 'flex';
  setTimeout(() => statsModal.classList.add('show'), 50);
}

function closeStats(){
  const modal = document.getElementById('statsModal');
  modal.classList.remove('show');
  setTimeout(() => modal.style.display = 'none', 600);
}

function clearStats(){
  localStorage.removeItem('quizStats');
  document.getElementById('ranking').innerHTML = '';
}
</script>

</body>
</html>
